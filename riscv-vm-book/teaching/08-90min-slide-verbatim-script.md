# 90 分钟课程逐页口播稿（可直接照读）

## 使用说明

- 本稿对应 `05-90min-slide-outline.md` 的 26 页结构。
- 每页分为三段：`开场句`、`核心阐述`、`收束句`。
- 建议每页 1.5-3 分钟，根据课堂互动动态调整。

## Slide 1 课程标题

- 开场句：
  “今天这堂课我们只做一件事：用工程证据解释为什么区块链 VM 会走向 Rust + RISC-V。”
- 核心阐述：
  “请先把注意力从 TPS 口号移开。共识 VM 是可验证系统，先保证语义确定，再谈性能收益。”
- 收束句：
  “后面所有内容都围绕一句话：没有证据链，就没有发布资格。”

## Slide 2 学习目标

- 开场句：
  “90 分钟结束时，你要具备三种能力。”
- 核心阐述：
  “第一，分清语义、计费、边界、优化四层约束；第二，能读懂关键执行路径；第三，能给优化提案做初步发布判断。”
- 收束句：
  “这三项能力缺任何一项，工程结论都不可靠。”

## Slide 3 三个判断问题

- 开场句：
  “以后你看到任何 VM 优化，都先问三句。”
- 核心阐述：
  “改动改变了什么语义？改变了多少计费结构？把风险转移给了谁？这三问能把大部分伪优化当场筛掉。”
- 收束句：
  “先问问题，再看性能图，顺序不能反。”

## Slide 4 图 1-1 全景

- 开场句：
  “图 1-1 不是教学插图，它是设计宪法。”
- 核心阐述：
  “四层顺序是协议语义 -> 经济计费 -> 工程边界 -> 执行优化。你可以在实现上创新，但不能在这个优先级上创新。”
- 收束句：
  “一旦倒置顺序，系统就从可治理变成不可解释。”

## Slide 5 语义层

- 开场句：
  “语义层只有一个目标：全网重放一致。”
- 核心阐述：
  “同输入同初始状态，必须得到同状态迁移与同错误语义。这里容不得‘大多数情况下正确’。”
- 收束句：
  “在共识系统里，99.99% 正确和不正确没有本质区别。”

## Slide 6 计费层

- 开场句：
  “计费是安全机制，不是商业策略。”
- 核心阐述：
  “cycles 把资源消耗转成协议可观察量，目标是把 DoS 成本推给攻击者，而不是推给节点运营者。”
- 收束句：
  “只优化速度不校准计费，等于给攻击者发补贴。”

## Slide 7 边界层

- 开场句：
  “边界层决定审计成本曲线。”
- 核心阐述：
  “syscall 是宿主入口，内存权限是执行边界。接口越少、语义越明确，审计面越可控。”
- 收束句：
  “功能多不等于系统强，很多时候只意味着攻击面大。”

## Slide 8 优化层

- 开场句：
  “优化层是最后一层，不是第一层。”
- 核心阐述：
  “Trace、MOP、ASM 都是好工具，但都必须在语义锚点和回滚机制之内运行。”
- 收束句：
  “可回滚，是共识优化和普通优化的分水岭。”

## Slide 9 生命周期总览

- 开场句：
  “run 不是一个函数调用，而是一个状态机入口。”
- 核心阐述：
  “状态机核心分支包括继续执行、暂停恢复、终止退出。每个分支都要保证可重放、可解释。”
- 收束句：
  “状态机讲不清，后面所有性能讨论都不成立。”

## Slide 10 fetch/decode/execute

- 开场句：
  “热路径和慢路径必须同时设计。”
- 核心阐述：
  “快路径负责效率，慢路径负责正确性兜底。快路径失败能平稳回落，才是可发布的工程实现。”
- 收束句：
  “把 slowpath 当累赘，是很多性能事故的起点。”

## Slide 11 装载器角色

- 开场句：
  “装载器不是搬运工，而是权限编排器。”
- 核心阐述：
  “ELF 段如何映射到页权限，直接决定后续执行边界。这里做错一次，后面所有防线都只是补丁。”
- 收束句：
  “W^X 是共识约束，不是可选安全增强。”

## Slide 12 syscall 最小集

- 开场句：
  “syscall 设计的第一原则是最小化。”
- 核心阐述：
  “每增加一个宿主能力，就增加一份跨版本语义负债与攻击面。正确做法是白名单、错误码、计费三位一体。”
- 收束句：
  “边界模糊的便利，最终都会变成线上事故。”

## Slide 13 快照价值

- 开场句：
  “快照不是为了‘看起来高级’，而是为了恢复成本可控。”
- 核心阐述：
  “Snapshot2 的结构共享降低复制成本，但前提是恢复语义与计费行为必须等价。”
- 收束句：
  “恢复更快不能以恢复更玄学为代价。”

## Slide 14 Register trait

- 开场句：
  “类型系统在这里承担的是协议职责。”
- 核心阐述：
  “Register trait 把寄存器宽度、算术边界、语义约束写成可编译契约，防止后端实现各说各话。”
- 收束句：
  “在共识 VM 里，类型约束就是安全边界。”

## Slide 15 Rust + ASM 协同

- 开场句：
  “Rust 与 ASM 不是替代关系，而是主从协作关系。”
- 核心阐述：
  “Rust 维持语义主线与可审计结构，ASM 负责热点提速。关键在于入口、状态镜像、回落语义三件事必须锁死。”
- 收束句：
  “没有 Rust 锚点的 ASM，很快但不可控。”

## Slide 16 后端一致性

- 开场句：
  “后端一致性不是口头承诺，要靠差分证据。”
- 核心阐述：
  “解释器、asm、不同输入集下要对比状态、错误码、计费结果。只要有一项漂移，就不能直接发布。”
- 收束句：
  “跳过 asm 测试后，唯一正确结论是：asm 尚未验证。”

## Slide 17 为什么 RISC-V

- 开场句：
  “RISC-V 的核心价值是治理，不是神话。”
- 核心阐述：
  “开放规范、可组合扩展、生态可演进，使协议层可以按门禁迭代引入能力，而不是一次性豪赌。”
- 收束句：
  “我们选择的是可治理生命周期，不是短期情绪。”

## Slide 18 扩展代价模型

- 开场句：
  “每个扩展都会带来长期维护账单。”
- 核心阐述：
  “新增扩展不仅影响执行层，还影响工具链、测试矩阵、审计成本和回滚路径。评估必须是总成本视角。”
- 收束句：
  “没有代价模型的扩展提案，本质上不完整。”

## Slide 19 密码学负载分层

- 开场句：
  “密码学优化不能一上来就谈新指令。”
- 核心阐述：
  “先分清算法层、实现层、指令层、VM 层，再决定该优化落在哪一层，避免责任错位。”
- 收束句：
  “层级没分清，优化越做越乱。”

## Slide 20 计费校准

- 开场句：
  “性能结果必须进入计费校准，否则不可发布。”
- 核心阐述：
  “要看短输入、长尾输入、极端输入，不只看平均值。并且要同步审查是否引入侧信道风险。”
- 收束句：
  “更快不代表更安全，更不代表更公平。”

## Slide 21 决策矩阵

- 开场句：
  “最后的发布决策必须回到矩阵。”
- 核心阐述：
  “收益、成本、不可逆风险、治理复杂度要同屏评估。任何单维度最优，都可能是系统级次优。”
- 收束句：
  “矩阵不是官僚流程，而是防止误判的最小工具。”

## Slide 22 Live Demo 入口

- 开场句：
  “现在我们用脚本化实验把结论落到证据。”
- 核心阐述：
  “`run_labs.sh` 固化了批次、命令、日志、报告格式，避免每个人自定义流程造成证据断裂。”
- 收束句：
  “工程上可复核，比个人经验更重要。”

## Slide 23 Demo 结果解读

- 开场句：
  “请看三层产物：报告、CSV、原始日志。”
- 核心阐述：
  “报告给评审，CSV 给自动化聚合，日志给排障。三者合起来才是一条完整证据链。”
- 收束句：
  “只有通过率，没有日志，不构成可审计结论。”

## Slide 24 PR 审计模板

- 开场句：
  “我们把失败样本也写进审计模板。”
- 核心阐述：
  “优秀团队不是没有失败，而是失败后可以快速定位、解释、回滚，并形成组织记忆。”
- 收束句：
  “把日志链接写进模板，是让结论可继承。”

## Slide 25 常见误区

- 开场句：
  “这里列的是最常见、最昂贵的误区。”
- 核心阐述：
  “包括把 smoke 当 full、跳过后端验证仍宣称一致、只报喜不报失败、只看平均性能不看长尾风险。”
- 收束句：
  “避开这些误区，比多做一个优化更有价值。”

## Slide 26 课后任务

- 开场句：
  “最后给出三条作业线，确保今天内容真正落地。”
- 核心阐述：
  “读一篇、跑一批、审一次。也就是：读长文、跑脚本、填模板，把理解变成交付。”
- 收束句：
  “工程成长不是听懂，而是能复现、能评审、能负责。”

## 讲师结尾统一话术（30 秒）

“今天我们讲的不是某个语言或某套 ISA 的神话，而是共识 VM 的责任边界。Rust 给我们语义可审计的骨架，RISC-V 给我们治理可演进的接口。两者结合的价值，不在宣传语里，而在你明天能不能拿着证据做出正确发布判断。”
