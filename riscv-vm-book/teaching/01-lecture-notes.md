# 教学讲义（模块化）

## 模块一：共识 VM 的第一性原理

### 核心问题

- 为什么区块链 VM 不能只谈吞吐？
- 为什么错误语义与计费语义必须结构化？

### 课堂要点

- 图 1-1 约束层级
- 图 2-1 生命周期状态机
- 图 3-1 装载与权限边界

### 课堂讨论题

- 如果去掉 `max_cycles`，系统会暴露什么攻击面？
- 为什么 W^X 是共识层问题而非普通安全硬化？

## 模块二：执行优化与语义锚点

### 核心问题

- Trace/MOP/ASM 优化如何不破坏语义？
- 为什么要保留 Rust 语义主线？

### 课堂要点

- 图 4-1 解码快路径
- 图 7-1 trait 语义下沉
- 图 8-1 Rust+ASM 控制平面

### 课堂讨论题

- 什么时候 `RET_SLOWPATH` 是必需而不是“性能缺陷”？
- trait 语义契约需要哪些合约测试？

## 模块三：治理、密码学与发布门禁

### 核心问题

- ISA 选择如何影响协议寿命？
- 密码学优化如何避免“跑分快、上线险”？

### 课堂要点

- 图 9-1 ISA 影响链
- 图 10-1 扩展分工
- 图 11-1 收益-成本矩阵
- 图 A-1/C-1 闭环与治理链

### 课堂讨论题

- 新扩展引入最小门禁是什么？
- 计费校准为何是安全工作而不是“调参”？

## 讲师提示

- 把“代码锚点”作为讲授主线，避免抽象空转。
- 每个模块结束前，要求学员写一条“一针见血结论”。
- 不讲“最佳实践神话”，只讲“可复现证据”。

